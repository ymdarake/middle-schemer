# ステップ2: パーサー（構文解析）

## 目的

トークンのリストから、構造化された構文木（AST: Abstract Syntax Tree）を構築します。
S式のネストした構造を正しく解析します。

## 学ぶこと

- 再帰下降構文解析の基本
- データ構造（リスト、ペア）を使った構文木の表現
- 括弧の対応を正しく処理する方法

## 実装内容

トークンリスト `'("(" "+" "1" "2" ")")` を以下のような構文木に変換します：

```scheme
'(+ 1 2)
```

より複雑な例：
- `'("(" "(" "+" "1" "2" ")" "3" ")")` → `'((+ 1 2) 3)`

## 構文木の表現

- **数値**: 数値そのもの `42`
- **識別子**: シンボルとして表現 `'add`, `'x`
- **リスト**: Schemeのリスト `'(+ 1 2)`
- **関数適用**: 最初の要素が関数、残りが引数

## 実装のポイント

1. 開き括弧を見つけたら、対応する閉じ括弧までを再帰的に解析
2. トークンを順番に処理しながら、構文木を構築
3. 括弧の対応が正しいかチェックする

## 次のステップ

次のステップでは、構築した構文木を評価（実行）する処理を実装します。

